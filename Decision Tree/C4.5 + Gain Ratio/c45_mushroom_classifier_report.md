##  گزارش پروژه

### عنوان: **طبقه‌بندی قارچ‌ها با استفاده از الگوریتم درخت تصمیم C4.5**

---

### 1. مقدمه

در این پروژه، هدف ما طراحی و پیاده‌سازی یک سیستم طبقه‌بندی برای تعیین خوراکی یا سمی بودن قارچ‌ها بر اساس ویژگی‌های ظاهری و بویایی آن‌هاست. برای این منظور از الگوریتم **C4.5** استفاده شده است که یکی از نسخه‌های بهبود یافته درخت تصمیم ID3 محسوب می‌شود و از معیار **نسبت اطلاعات (Gain Ratio)** برای انتخاب ویژگی‌های مؤثر استفاده می‌کند.

---

### 2. معرفی داده‌ها

* **مجموعه‌داده**: Mushroom Dataset
* **منبع**: UCI Machine Learning Repository
* **تعداد نمونه‌ها**: 8124 رکورد
* **تعداد ویژگی‌ها**: 22 ویژگی کیفی (Categorical) + 1 ویژگی هدف (Target)
* **ویژگی هدف**: `class` (خوراکی = e، سمی = p)

از جمله ویژگی‌های موجود در داده می‌توان به موارد زیر اشاره کرد:

* شکل کلاهک قارچ (cap-shape)
* بوی قارچ (odor)
* نوع پره‌ها (gill-size, gill-color)
* رنگ ساقه، نوع حلقه، زیستگاه و ...

**نکته:** مقادیر گمشده در ویژگی `stalk-root` با علامت `?` نمایش داده شده بودند که پیش از آموزش حذف شدند.

---

### 3. مراحل پیاده‌سازی

#### 3.1 پیش‌پردازش داده‌ها

* حذف نمونه‌های دارای مقادیر گمشده
* کدگذاری تمامی ویژگی‌های کیفی با استفاده از `LabelEncoder`
* تقسیم داده‌ها به دو بخش آموزش (70٪) و آزمون (30٪)

#### 3.2 پیاده‌سازی الگوریتم C4.5

* پیاده‌سازی تابع **Entropy** برای محاسبه بی‌نظمی داده‌ها
* تعریف **Gain Ratio** برای تعیین ویژگی بهینه در هر گره
* ساخت بازگشتی درخت تصمیم با انتخاب بهترین ویژگی در هر سطح
* استفاده از برچسب اکثریت (majority class) در صورت نیاز به برگرداندن تصمیم نهایی

#### 3.3 پیش‌بینی و ارزیابی

* اعمال مدل بر داده‌های تست
* استخراج خروجی‌ها و مقایسه آن‌ها با مقادیر واقعی
* محاسبه و گزارش معیارهای ارزیابی

---

### 4. معیارهای ارزیابی و نتایج

####  ماتریس درهم‌ریختگی (Confusion Matrix):

|               | پیش‌بینی شده: سمی | پیش‌بینی شده: خوراکی |
| ------------- | ---------------- | ------------------- |
| واقعی: سمی    | TP = 1260        | FN = 0              |
| واقعی: خوراکی | FP = 0           | TN = 1152           |

####  معیارها:

| معیار                       | مقدار  |
| --------------------------- | ------ |
| **Accuracy (دقت کلی)**      | 1.0000 |
| **Precision (دقت مثبت‌ها)**  | 1.0000 |
| **Sensitivity (Recall)**    | 1.0000 |
| **Specificity (ویژگی‌مندی)** | 1.0000 |
| **F1 Score**                | 1.0000 |
| **شاخص Youden (J-index)**   | 1.0000 |

#### تعریف معیارها:

* **Accuracy**: نسبت پیش‌بینی‌های صحیح به کل نمونه‌ها
* **Precision**: نسبت نمونه‌های درست در میان نمونه‌هایی که مدل به‌عنوان سمی پیش‌بینی کرده است
* **Sensitivity (Recall)**: درصد سمی‌های واقعی که به‌درستی شناسایی شده‌اند
* **Specificity**: درصد خوراکی‌های واقعی که به‌درستی شناسایی شده‌اند
* **F1 Score**: میانگین هماهنگ Precision و Recall
* **Youden’s Index**: ترکیب Sensitivity و Specificity برای سنجش عملکرد مدل به‌صورت کلی

---

### 5. نتیجه‌گیری

مدل درخت تصمیم پیاده‌سازی‌شده بر اساس الگوریتم **C4.5** توانست با دقت کامل ۱۰۰٪ تمامی نمونه‌های آزمون را به درستی طبقه‌بندی کند. این نتیجه نشان می‌دهد که ویژگی‌های موجود در مجموعه داده قارچ‌ها به‌خوبی توانایی تفکیک بین قارچ‌های سمی و خوراکی را دارند و الگوریتم C4.5 انتخاب بسیار مناسبی برای این مسئله طبقه‌بندی بوده است.

